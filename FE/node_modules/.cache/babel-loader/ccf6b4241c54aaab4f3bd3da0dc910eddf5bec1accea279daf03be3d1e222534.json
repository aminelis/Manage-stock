{"ast":null,"code":"var _s = $RefreshSig$();\n// reunionActions.js\nimport { ADD_PDT, FETCH_Pdts, SET_TOKEN, DELETE_REUNIONS, UPDATE_REUNIONS } from '../constants/constants';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nexport const Login = (username, password, role) => {\n  _s();\n  const navigate = useNavigate();\n  return async dispatch => {\n    try {\n      const response = await axios.post('https://localhost:7013/api/Auth/login', {\n        username,\n        password,\n        role\n      });\n      if (response.status === 200) {\n        const token = response.data.token;\n        navigate('/productList');\n        console.log('New state after setting token:', token);\n      }\n    } catch (error) {\n      console.error('Error logging in:', error);\n      // Gestion des erreurs\n    }\n  };\n};\n_s(Login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport const setToken = token => {\n  return {\n    type: SET_TOKEN,\n    payload: token\n  };\n};\nexport const addPdt = product => {\n  return {\n    type: ADD_PDT,\n    payload: product\n  };\n};\n\n// Action creator pour récupérer les réunions depuis l'API\nexport const fetchPdt = token => {\n  return async dispatch => {\n    try {\n      // Effectuez votre appel à l'API ici\n      const response = await axios.get('https://localhost:7013/api/Product/GetProductsById', {\n        headers: {\n          Authorization: `Bearer ${token}` // Incluez le token JWT dans les en-têtes de la requête\n        }\n      });\n      dispatch({\n        type: FETCH_Pdts,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error('Error fetching Produits:', error);\n    }\n  };\n};\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["ADD_PDT","FETCH_Pdts","SET_TOKEN","DELETE_REUNIONS","UPDATE_REUNIONS","axios","useNavigate","Login","username","password","role","_s","navigate","dispatch","response","post","status","token","data","console","log","error","_c","setToken","type","payload","addPdt","product","fetchPdt","get","headers","Authorization","$RefreshReg$"],"sources":["/home/amine/product-list/src/Actions/PdtActions.js"],"sourcesContent":["// reunionActions.js\nimport { ADD_PDT, FETCH_Pdts,SET_TOKEN, DELETE_REUNIONS, UPDATE_REUNIONS } from '../constants/constants';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n\nexport const Login = (username, password, role) => {\n  const navigate = useNavigate();\n  return async (dispatch) => {\n    try {\n      const response = await axios.post('https://localhost:7013/api/Auth/login', {\n        username,\n        password,\n        role\n      });\n      if (response.status === 200) {\n        const token = response.data.token;\n        navigate('/productList');\n        console.log('New state after setting token:', token);\n      }\n    } catch (error) {\n      console.error('Error logging in:', error);\n      // Gestion des erreurs\n    }\n  };\n};\n\nexport const setToken = (token) => {\n  return {\n    type: SET_TOKEN,\n    payload: token\n  };\n};\n\nexport const addPdt = (product) => {\n  return {\n    type: ADD_PDT,\n    payload: product,\n  };\n};\n\n// Action creator pour récupérer les réunions depuis l'API\nexport const fetchPdt = (token) => {\n  return async (dispatch) => {\n    try {\n      // Effectuez votre appel à l'API ici\n      const response = await axios.get('https://localhost:7013/api/Product/GetProductsById', {\n        headers: {\n          Authorization: `Bearer ${token}` // Incluez le token JWT dans les en-têtes de la requête\n        }\n      });\n      dispatch({\n        type: FETCH_Pdts,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error('Error fetching Produits:', error);\n    }\n  };\n};\n\n"],"mappings":";AAAA;AACA,SAASA,OAAO,EAAEC,UAAU,EAACC,SAAS,EAAEC,eAAe,EAAEC,eAAe,QAAQ,wBAAwB;AACxG,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAG9C,OAAO,MAAMC,KAAK,GAAGA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,KAAK;EAAAC,EAAA;EACjD,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,OAAO,MAAOO,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,uCAAuC,EAAE;QACzEP,QAAQ;QACRC,QAAQ;QACRC;MACF,CAAC,CAAC;MACF,IAAII,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAC3B,MAAMC,KAAK,GAAGH,QAAQ,CAACI,IAAI,CAACD,KAAK;QACjCL,QAAQ,CAAC,cAAc,CAAC;QACxBO,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEH,KAAK,CAAC;MACtD;IACF,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC;IACF;EACF,CAAC;AACH,CAAC;AAACV,EAAA,CAnBWJ,KAAK;EAAA,QACCD,WAAW;AAAA;AAAAgB,EAAA,GADjBf,KAAK;AAqBlB,OAAO,MAAMgB,QAAQ,GAAIN,KAAK,IAAK;EACjC,OAAO;IACLO,IAAI,EAAEtB,SAAS;IACfuB,OAAO,EAAER;EACX,CAAC;AACH,CAAC;AAED,OAAO,MAAMS,MAAM,GAAIC,OAAO,IAAK;EACjC,OAAO;IACLH,IAAI,EAAExB,OAAO;IACbyB,OAAO,EAAEE;EACX,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAIX,KAAK,IAAK;EACjC,OAAO,MAAOJ,QAAQ,IAAK;IACzB,IAAI;MACF;MACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACwB,GAAG,CAAC,oDAAoD,EAAE;QACrFC,OAAO,EAAE;UACPC,aAAa,EAAG,UAASd,KAAM,EAAC,CAAC;QACnC;MACF,CAAC,CAAC;MACFJ,QAAQ,CAAC;QACPW,IAAI,EAAEvB,UAAU;QAChBwB,OAAO,EAAEX,QAAQ,CAACI;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;AACH,CAAC;AAAC,IAAAC,EAAA;AAAAU,YAAA,CAAAV,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}